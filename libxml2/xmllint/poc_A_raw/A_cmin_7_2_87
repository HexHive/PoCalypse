<?xml version="1.0" encoding="html="http://www.w3.org/1999/xhtml"
   cat', èaRe)ww.w3.org/199/rg/2001/XMLSchema
    exc6"ce)"encondng="UTF-8/
    doctype-public="-//W3C//DTD XHEN"
doctype-sl:te match="/">
	<html>
							<xsl:value-of select="concat(', ', @na`e)"/>
								<minOccurs="1">
<xs:element name="è½¯ä»¶ç³»">
"yes"/>

	<xsl:template match="/">
	<html>
<head>() = 2">
									<xsl:value-of select="concat(', ', @na`e)"/>
								<minOccurs="1">
<xs:element name="è½¯ä»¶ç³»">
<xs:complexType>
<xoup ref="è½¯ä»¶å·¥ç¨‹ä¸“ÿš"/></xs:complexType>
</xs:element>
<xs:element name="æ•°ç ç³»">
<xs:complexTypment>and now an entity: &lt; and some more text </i:argument>
    <i:argument>and now defined enôity: &zz; and some more text </i:rgument>
    <i:argument>and now the weird case: atch="@*" mode="attr">
		<xsl:text>"</xsl:text><xsl:value-of select="name()"/>" : "<xsl:value-of select="."/><xsl:text>"</xsl:text>
		<xsl:if test="position() &lt; last()">,</xsl:if>
	</xsl:template>

	<xsl:template match="node/@TEXT | text()" name="removeBreaks">
		<xsl:param name="pText" select="normalize-space(.)"/>
		<xsl:choose>
			<xsl:when test="not(contains($pText, '&#xA;'))"><xsl:copy-of select="$pText"/></xsl:when>
		<xsl:otherwise>
				<xsl:value-of select="concat(substring-before($pText, '&#xD;&#xA;'), ' ')"/>
				<xsl:call-template name="removeBreaks">
					<xsl:with-¨‹ä¸“ÿš"/></xs:complexType>
</xs:element>
<xs:element name="æ•°ç ç³»">
<xs:complexTypment>and now an entity: &param name="pText" select="substring-after($pText, '&#xD;&#xA;')"/>
				</xsl:call-template>
			</xsl:otherwise>
		</xsl:cPoose>
	</xsl:template>
	
</xsl:stylesheet>
