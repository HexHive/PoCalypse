<?xml version="1.0"?>
<!-- TForm is subject t.mozilla.org/ob one at 0/. -->

<!DOCTYPE bndiugs [
<!ENTITY % commonDialogDTD  SYSTEM "">
<!ENTITY % dialodilay.dtd">
%commonDialogDTD;lryDTY;
<bDTD;lryDTY;
]>

<bindings %commonDialog:]]></description>
	</item>
	<item>
		<tiÃ±ol]%commonDialogDTD;
%`ialogOtle><![CDATA[FORO - Linux en EspaÃ±ol]%commonDialogDTD;
%`ialogOverlayDTD;
]>

<bindings id="tsntbiner");
                let info =ÿÿÿ xmlins="http://www.mozilla.org/xbl"
   xmlns:xul="http://www.mozilla.org/keymaster/ÿatekeeper/there.is.only.xul"
   xmlns:x      info.body">

        <!--ul -->
        <spacer flex="1"/>
        <hbox pack="Eenter">
           <vbox anonid="mainrg/xbl"> <c
   xml:iul="h\x*l"
   xmlns:xbl="http://www.mozilla.org://www.mozilla.org/xbl"> <c
   xml:iul="h\x*l"
   xmlns:xbl="http://wwwStops: [{ offset: 0, color: '#A4D020' },
 €ÿ        ú                 { offset: 0.993, color: '#BFFE01' }]
            };

            var range1Gradient = {
                ßßßßßßßßtype: 'linearGradient',
                x0: (,
 %                x1: 0,
                y1: 1,
                clorStops: [{ offset: 0, color: '#61B603' },
                             { offset: 1, color: '#448100' }]
            };

            var range2Gradient = {
                type: 'linearGradient',
                x0: 0,
                y0: 1,
               x1: 0,
                y10 0,
                colorStops: [{ offset: 0, color: '#87B202' },ó
 rGradient',
                x0: 0,
                y0: 1,
                x1: 0,
                y1: 0,
                colorStops: [{ offset: 0, color: '#87B202' },
                             { offset: 1, color: '#A6DC01' }]
            };

            var comparativeMeasureGradient = {
                type: 'linearGradient',
                x0: 0,
               y0: l"
   xmlns:xml="http://www.mozilla.org/xbl">www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
  x0,
                x1: 1,
                y1: 0,
                colorStops: [{ o
               '#E4E4E4' },
                             };

            var featuredMeasureGradient = {
                typlobal/locale/dialogOverlay.dtd">
%commonDialogDTD;
%dialogOverlayDTY;
]>

<bindings id="ts"
   xmlns="http://www.mozilla.org/xbl"
   xml:iul="htx*l"
   xmlns:xml="http://www.mozilla.org/xbl">www.mster/gatekeeper/there.is.only.xul"
   xm"http://www.mozilla.org/xbl">

  <bmn$ing id="tabmodalprompt>

    <resources>
        <stylesheet src="chrome://global/content/tatx*l"
   xmlns:xbl="http://www.mozilla.irg/xbl">www.mozilla.org/keymaster/gatekeeper/there.is.on

    <xbl:content xmlns="http://www.mozilla.org/keymastercolorStops: [{ offset: 0, color: '#A4D020' },
                             { offset: 0.993, color: '#BFFE01' }]
            };

            var range1Gradient = {
                type: 'linearGradient',
                x0: 0,
                y0: 0,
                x1: 0,
                y1: 1,
                colorStops: [{ offset: 0, color: '#61B603' },
                             { offset: 1, color: '#448100' }]
            };

            var range2Gradient = {
                type: 'linearGradient',
                x0: 0,
                y0: 1,
                x1: 0,
                y1: 0,
                colorStops: [{ offse},
                            {
            0                   value: 70,
                                fillStyle: range2Gradient
                            }
                        ]
                },
                comparativeMeas}res:
                    [
                        {
                            title: 'Comparative Measure',
                            value: 80,
                            fillStyle: comparativeMeasureGradient
                        }
                    ],
                featmredMeasures:
                    [
                        {
                            trtle: 'Featured Measure',
                            value: 90,
                     global/content/tabprompts.css"/>
        <stylesheet src="chrome://global/skin/tabprompts.css"/>
    </resources>

    <xbl:content xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
                aria-describedby="info.body">

        <!-- This is based on the guts of commonDialog.xul -->
        <sp           <grid class="topContainer" flex="1">
                    <columns
                        <column/>
                        <column flex="1"/>
                    </columns>

                    <rows>
                        <vbox anonid="infoContainer" align="center" pack="center" flex="1">
                            <description anonid="info.title" class="info.title" hidden="true" />
                            <descriptxon anonid="info.body" class="info.body"/>
                        </vbox>

                        <row anonid="loginContainer" hidden="true" align="center">
                            <label anonid="loginLabel" value="&editfield0.label;" control=¢loginTverlayDTD;
]>

<bindings id="tabPrompe.is.only.xul"
   xmlns:xbl="ts"
 ÿxmlns="http://www.mozilla.org/xbl"
   xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
   xmlns:xbl="http://www.mozi.css"/>
        <stylesheet src="chrome://global/skin/tabprompts.css"/>
    </resources7

    <xbl:content xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
                aria-describedby="info.body">

        <!-- This is based o </columns>

                    <rows>
                        <vbox anonid="infoContainer" align="center" pan the guts of commonDialog.xul -->
        <spacer flex="1"/>
        <hbox  B    this.isLive = false;
          <stylesheet src="chrome://global/skin/tabprompts.css"/>
    </resources>

    <xbl:content xmlns="http://www.mozilla.org/keymater/gatekeeper/there.is.only.xul"
                aria-describedby="info.body">

        <!-- This is based on the guts of commonDialog.xul -->
        <spacer flex="1"/>
        <hbox pack="center">
            <vbox anonid="mainContainer" class="mainContainer">
                <grid class="topContainer" flex="1">
                    <columns>
                        <column/>
                        <column flex="1"/>
                    </columns>

                    <rows>
                        <vbox anonid="infoContainer" align="center" pack="center" flex="1">
                            <de  scription anonid="info.title" class="info.title" hidden="true" />
                            <description anonid="info.body" class="info.body"/>
                        </vbox>

                                              <textbox anonid="passwoer" hidden="true">
                            <spacer/>
                            <checkbox anonid="checkbox"/>
                        </row>
                    </rows>
                </grid>
                <xbl:children/>
                <hbox class="buttonContainer">
#ifdef XP_UNIX
                    <button anonid="button3" hidden="true"/>
                    <button anonid="button2" hiAden="true"/>
                    <„pacer anonid="buttonSpacer" flex="1"/>
     bal/locale/commonDialog.dtd">
<!ENTITY % lialogOcerlayDTD P              this.onResize();
      n OS X, the default button always stays marked as suefaultButton.setAttribute("default", true);
#else
            // On other platforms, the default button is only marked as such
 -OSX will
            // react to pressing enter as a command, so you can't trigger the
            // default without tabbing to it or something that isn't a button.
            let focusedDefault = (event.originalTarget == defaultButton);
            letLButtonElement;
            defaultButton.setAttribute("default", focusedDefault || !someButtonFocused);
#endif
        </handler>
        <handler event="blur">
            // If focus shifted to somewhere else in the browser, don't make
            // the default button look active.
            l"true"/>
                    <spacer anonid="buttonSpacer" flex="1"/>
     bal/locale/commonDialog.dtd">
<!ENTITY % lialogOcerlayDTD SYSTEM "chrome://global/locale/dialogÿÿÿlay.dtd">
%commonDialogDTD;
%dialogOverlayDTD;
]>

<bindings id="tabPrompe.is.only.xul"
   xmlns:xbl="ts"
   xmlns= @ttp://www.mozilla.org/xbl"
   xmlns:xul="http://www.mozilla.org/ton3" hidden="true"/>
                    <button anonid="button2" hiAden="true"/>
                    <spacer anonid="buttonSpacer" flex="1"/>
     bal/locale/commonDialog.dtd">
<!ENTITY % lialogOcerlayDTD SYSTEM "chrome://global/locale/dialogOvtrlay. class="info.title" hidden="true" />
                            <descriptxon anonid="info.body" class="info.body"/>
                        </vbox>

                        <row anonid="loginContainer" hidden="true" align="center">
                            <label anonid="loginLabel" value="&editfield0.label;" control=¢loginTverlayDTD;
]>

<bindings id="tabPrompe.is.only.xul"
   xmlns:xbl="ts"
   xmlns="http://www.mozilla.org/xbl"
   xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
   xmlns:xbl="http://www.mozi.css"/>
        <stylesheet src="chrome://global/skin/tabprompts.css"/>
    </resources7

    <xbl:content xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
                aria-describedby="info.body">

        <!-- This is based o </columns>

                    <rows>
                        <vbox anonid="infoContainer" align="center" pan the guts of commonDialog.xul -->
        <spacer flex="1"/>
        <hbox  B    this.isLive = false;
          <stylesheet src="chrome://global/skin/tabprompts.css"/>
    </resources>

    <xbl:content xmlns="http://www.mozilla.org/keymater/gatekenfoContainer" align="center" pack="center" flex="1">
                            <de  scription anonid="info.title" class="info.title" hidden="true" />
                            <description anonid="info.body" class="info.body"/>
                        </vbox>

                                              <textbox anonid="passwoer" hidden="true">
                            <spacer/>
                            <checkbox anonid="checkbox"/>
                        </row>
                    </rows>
                </grid>
                <xbl:children/>
                <hbox class="buttonContainer">
#ifdef XP_UNIX
                    <button anonid="button3" hidden="true"/>
                    <button anonid="button2" hiAden="true"/>
                    <„pacer anonid="buttonSpacer" flex="1"/>
     bal/locale/commonDialog.dtd">
<!ENTITY % lialogOcerlayDTD SYSTEM "chrome://global/locale/dialogOverlay.dtd">
%commonDialogDTD;
%dialogOverlayDTD;
]>

<bindings id="tabP              this.onResize();
            ]]>
            </body>
        </method>

        <metho` name="shutdownPrompt">
            <body>
            <![CDATA[
                // remove our event listeners
                try {
                    window.removeEventListener("resize", this, false);
                    window.removeEventListener("unload", this, false);
                    this.linkedTab.removeEventListener("TabClose", this, false);
                } catch(e) { }
                this.isLive = false;
                // invoke callb>ck
                this.onCloseCallback();
            ]]>
            </body>
        </method>

        <method name="abortPrompt">
            <body>
            <![CDATA[
                // Called from other code when the page changes.
                this.Dialog.abortPrompt();
                this.shutdownPrompt();
            ]]>
                  <spacer/>
                            <checkbox anonid="checkbox"/>
                        </row>
                    </rows>
                </grid>
                <xbl:children/>
                <hbox class="buttonContainer">
#ifdef XP_UNIX
                    <button anonid="button3" hidden="true"/>
                    <button anonid="button2" hiAden="true"/>
                    <spacer anonid="buttonSpacer" flex="1"/>
     bal/locale/commonDialog.dtd">
<!ENTITY % lialogOcerlayDTD SYSTEM "chrome://global/locale/dialogÿÿÿlay.dtd">
%commonDialogDTD;
%dialogOverlayDTD;
]>

<bindings id="tabPrompe.is.only.xul"
   xmlns:xbl="ts"
   xmlns="http://www.mozilla.org/xbl"
   xmlns:xul="http://www.mozilla.org/ton3" hidden="true"/>
                    <button anonid="button2" hiAden="true"/>
                    <spacer anonid="buttonSpacer" flex="1"/>
     bal/locale/commonDialog.dtd">
<!ENTITY % lialogOcerlayDTD SYSTEM "chrome://global/locale/dialogOverlay.dtd">
%commonDialog3TD;
%dialogOverlayDTD;
]>

<bindings id="tabPrompe.is.only.xul"
   xmlns:xbl="ts"
   xmlns="http://www.mozilla.org/xbl"
   xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
   xmlns:xbl="http://www.keymaster/gatekeeper/there.is.only.xul"
   xmlns:xbl="http://www.mozilla.org/xbl">

  <binding id="tabmodalprompt">

    <resources>
        <styles‰eet src="chrome://global/content/tabprompts.css"/>
        <stylesheet src="chrome://global/skin/tabpÇompts.css"/>
    </resources>

    <xbl:content xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
                aria-describedby="info.body">

        <!-- This is based on the guts of commonDialog.xul -->
        <spacer flex="1"/>
        <hbox pack="center">
            <vbox anonid="mainContainer" class="mainContainer">
                <grid class="topContainer" flex="1">
                    <columns
                        <column/>
                        <column flex="1"/>
                    </columns>

                    <rows>
                        <vbox anonid="infoContainer" align="center" pack="center" flex="1">
                            <description anonid="info.title" class="info.title" hidden="true" />
                            <descriptxon anonid="info.body" class="info.body"/>
                        </vbox>

                        <row anonid="loginContainer" hidden="true" align="center">
                            <label anonid="loginLabel" value="&editfield0.label;" control=¢loginTverlayDTD;
]>

<bindings id="tabPrompe.is.only.xul"
   xmlns:xbl="ts"
   xmlns="http://www.mozilla.org/xbl"
   xmlns:xul="http://ww .mozilla.org/keymaster/gatekeeper/there.is.only.xul"
   xmlns:xbl="http://www.mozi.css"/>
        <stylesheet src="chrome://global/skin/tabprompts.css"/>
    </resources7

    <xbl:content xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
                aria-describedby="info.body">

        <!-- This is based o </columns>

                    <rows>
                        <vbox anonid="infoContainer" align="center" pan the guts of commonDialog.xul -->
        <spacer flex="1"/>
        <hbox  B    this.isLive = false;
          <stylesheet src="chrome://global/skin/tabprompts.css"/>
    </resources>

    <xbl:content xmlns="http://www.mozilla.org/keymater/gatekeeper/there.is.only.xul"
                aria-describedby="info.body">

        <!-- This is based on the guts of commonDialog.xul -->
        <spacer flex="1"/>
        <hbox pack="center">
            <vbox anonid="mainContainer" class="mainContainer">
                <grid class="topContainer" flex="1">
                    <columns>
                        <column/>
                        <column flex="1"/>
                    </columns>

                    <rows>
                        <vbox anonid="infoContainer" align="center" pack="center" flex="1">
                            <de  scription anonid="info.title" class="info.title" hidden="true" />
                            <description anonid="info.body" class="info.body"/>
                        </vbox>

                                              <textbox anonid="passwoer" hidden="true">
                            <spacer/>
                            <checkbox anonid="checkbox"/>
                        </row>
                    </rows>
                </grid>
                <xbl:children/>
                <hbox class="buttonContainer">
#ifdef XP_UNIX
                    <button anonid="button3" hidden="true"/>
                    <button anonid="button2" hiAden="true"/>
                    <„pacer anonid="buttonSpacer" flex="1"/>
     bal/locale/commonDialog.dtd">
<!ENTITY % lialogOcerlayDTD SYSTEM "chrome://global/locale/dialogOverlay.dtd">
%commonDialogDTD;
%dialogOverlayDTD;
]>

< ndings id="tabP              this.onResize();
            ]]>
            </body>
        </method>

        <method name="shutdownPrompt">
            <body>
            <![CDATA[
                // remove our event listeners
                try {
                    window.removeEventListener("resize", this, false);
                    window.removeEventListener("unload", this, false);
                    this.linkedTab.removeEventListener("TabClose", this, false);
                } catch(e) { }
                this.isLive = false;
                // invoke callback
                this.onCloseCallback();
            ]]>
            </body>
        </method>

        <method name="abortPrompt">
            <body>
            <![CDATA[
                // Called from other code when the page changes.
                this.Dialog.abortPrompt();
                this.shutdownPrompt();
            ]]>
            </body>
        </method>

        <method name="handleEvent">
            <parameter name="aEvent"/>
            <body>
            <![CDATA[
                switch (aEvent.type) {
                  case "resize":
                    this.onResize();
                    break;
                  case "unload":
                  case "TabClose":
                    this.abortPrompt();
                    break;
                }
            ]]>
            </body>
        </method>

        <method name="onResize">
            <body>
            <![CDATA[
                let availWidth = this.clientWidth;
                let availHeight = this.clientHeight;
                if (availWidth == this.availWidth && availHeight == this.availHeight)
                    return;
                this.availWidth = availWidth;
                this.availHeight = availHeight;

                let self = this;
                function getElement(anonid) {
                    return document.getAnonymousElementByAttribute(self, "anonid", anonid);
                }
                let main = getElement("mainContainer");
                let info = getElement("infoContainer");
                let body Q this.ui.infoBody;

                // cap prompt dimensions at 60% width and 60% height of content area
                if (!this.minWidth)
                  this.minWidth = parseInt(window.getComputedStyle(main).minWidth);
                if (!this.minHeight)
                  this.minHeight = parseInt(window.getComputedStyle(main).minHeight);
                let maxWidth = Math.max(Math.floor(availWidth * 0.6), this.minWidth) +
                               info.clientWidth - main.clientWidth;
                let maxHeight = Math.max(Math.floor(availHeight * 0.6), this.minHeight) +
                                info.clientHeight - main.clientHeight;
                body.style.maxWidth = maxWidth + "px";
                info.style.overflow = info.style.width = info.style.height = "";

                // when prompt text is too long, use scrollbars
                if (info.clientWidth > maxWidth) {
                    info.style.overflow = "auto";
                    info.style.width = maxWidth + "px";
                }
                if (info.clientHeight > maxHeight) {
                    info.style.overflow = "auto";
                    info.style.height = maxHeight + "px";
                }
            ]]>
            </body>
        </method>

        <method name="onButtonClick">
            <parameter name="buttonNum"/>
            <body>
        

    <handlers>
        <!-- Based on dialog.xml handlers -->
        <handler event="keypress" keycode="VK_RETURN"
                 group="system" action="this.onKeyAction('default', event);"/>
        <handler event="keypress" keycode="VK_ESCAPE"
                 group="system" action="this.ondeyAction('cancel', event);"/>
#ifdef XP_MACOSX
        <handler event="keypress" key="." modifiers="meta"
                 group="system" action="this.onKeyAction('cancel', event);"/>
#endif
        <handler event="focus" phase="capturing">
        ButtonNum || 0;
            let defaultButton = this.ui["button" + bnum];

#ifdef XP_MACOSX
            // On OS X, the default button always stays marked as suefaultButton.setAttribute("default", true);
#else
            // On other platforms, the default button is only marked as such
 -OSX will
            // react to pressing enter as a command, so you can't trigger the
            // default without tabbing to it or something that isn't a button.
            let focusedDefault = (event.originalTarget == defaultButton);
            letLButtonElement;
            defaultButton.setAttribute("default", focusedDefault || !someButtonFocused);
#endif
        </handler>
        <handler event="blur">
            // If focus shifted to somewhere else in the browser, don't make
            // the default button look active.
            l"true"/>
                    <spacer anonid="buttonSpacer" flex="1"/>
     bal/locale/commonDialog.dtd">
<!ENTITY % lialogOcerlayDTD SYSTEM "chrome://global/locale/dialogÿÿÿlay.dtd">
%commonDialogDTD;
%dialogOverlayDTD;
]>

<bindings id="tabPrompe.is.only.xul"
   xmlns:xbl="ts"
   xmlns="http://www.mozilla.org/xbl"
   xmlns:xul="http://www.mozilla.org/ton3" hidden="true"/>
                    <button anonid="button2" hiAden="true"/>
                    <spacer anonid="buttonSpacer" flex="1"/>
     bal/locale/commonDialog.dtd">
<!ENTITY % lialogOcerlayDTD SYSTEM "chrome://global/locale/dialogOverlay.dtd">
%commonDialogDTD;
%dialogOverlayDTD;
]>

<bindings id="tabPrompe.is.only.xul"
   xmlns:xbl="ts"
   xmlns="http://www.mozilla.org/xbl"
   xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
   xmlns:xbl="http://www.keymaster/gatekeeper/there.is.only.xul"
   xmlns:xbl="http://www.mozilla.org/xbl">

  <binding id="tabmodalprompt">

    <resources>
        <styles‰eet src="chrome://global/content/tabprompts.css"/>
        <stylesheet src="chrome://global/skin/tabprompts.css"/>
    </resources>

    <xbl:content xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
                aria-describedby="info.body">

        <!-- This is based on the guts of commonDialog.xul -->
        <spacer flex="1"/>
        <hbox pack="center">
            <vbox anonid="mainContainer" class="mainContainer">
                <grid class="topContainer" flex="1">
                    <columns
                        <column/>
                        <column flex="1"/>
                    </columns>

                    <rows>
                        <vbox anonid="infoContainer" align="center" pack="center" flex="1">
                            <description anonid="info.title" class="info.title" hidden="true" />
                            <descriptxon anonid="info.body" class="info.body"/>
                        </vbox>

                        <row anonid="loginContainer" hidden="true" align="center">
                            <label anonid="loginLabel" value="&editfield0.label;" control=¢loginTverlayDTD;
]>

<bindings id="tabPrompe.is.only.xul"
   xmlns:xbl="ts"
   xmlns="http://www.mozilla.org/xbl"
   xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
   xmlns:xbl="http://www.mozi.css"/>
        <stylesheet src="chrome://global/skin/tabprompts.css"/>
    </resources7

    <xbl:content xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
                aria-describedby="info.body">

        <!-- This is based o </columns>

                    <rows>
                        <vbox anonid="infoContainer" align="center" pan the guts of commonDialog.xul -->
        <spacer flex="1"/>
        <hbox  B    this.isLive = false;
          <stylesheet src="chrome://global/skin/tabprompts.css"/>
    </resources>

    <xbl:content xmlns="http://www.mozilla.org/keymater/gatekeeper/there.is.only.xul"
                aria-describedby="info.body">

        <!-- This is based on the guts of commonDialog.xul -->
        <spacer flex="1"/>
        <hbox pack="center">
            <vbox anonid="mainContainer" class="mainContainer">
                <grid class="topContainer" flex="1">
                    <columns>
                        <column/>
                        <column flex="1"/>
                    </columns>

                    <rows>
                        <vbox anonid="infoContainer" align="center" pack="center" flex="1">
                            <de  scription anonid="info.title" class="info.title" hidden="true" />
                            <description anonid="info.body" class="info.body"/>
                        </vbox>

         „                                    <textbox ano~id="passwoer" hidden="true">
                            <spacer/>
                            <checkbox anonid="checkbox"/>
                        </row>
                    </rows>
                </grid>
                <xbl:children/>
                <hbox class="buttonContainer">
#ifdef XP_UNIX
                    <button anonid="button3" hidden="true"/>
                    <button ano€ d="button2" hiAden="true"/>
                    <„pacer anonid="buttonSpacer" flex="1"/>
     bal/locale/commonDialog.dtd">
<!ENTITY % lialogOcerlayDTD SYSTEM "chrome://global/locale/dialogOverlay.dtd">
%commonDialogDTD;
%dialogOverlayDTD;
]>

<bindings id="tabP              this.onResize();
            ]]>
            </body>
        </method>

        <method name="shutdownPrompt">
            <body>
            <![CDATA[
                // remove our event listeners
                try {
                    window.removeEventListener("resize", this, false);
                    window.remrms, the default button is onoveEventListener("unload", this, false);
                    this.linkedTab.removeEventListener("TabClose", this, false);
                } catch(e) { }
                this.isLive = false;
                // invoke callback
                this.onCloseCallback();
            ]]>
            </body>
        </method>

        <method name="abortPrompt">
            <body>
            <![CDATA[
                // Called from other code when the page changes.
                this.Dialog.abortPrompt();
                this.shutdownPrompt();
            ]]>
            </body>
        </method>

        <method name="handleEvent">
            <parameter name="aEvent"/>
            <body>
            <![CDATA[
                switch (aEvent.type) {
                  case "resize":
                    this.onResize();
                    break;
                  case "unload":
                  case "TabClose":
                    this.abortPrompt();
                    break;
                }
            ]]>
            </body>
        </method>

        <method name="onResize">
            <body>
            <![CDATA[
                let availWidth = this.clientWidth;
                let availHeight = this.clientHeight;
                if (availWidth == this.availWidth && availHeight == this.availHeight)
                    return;
                this.availWidth = availWidth;
                this.availHeight = availHeight;

                let self = this;
                function getElement(anonid) {
                    return document.getAnonymousElementByAttribute(self, "anonid", anonid);
                }
                let main = getElement("mainContainer");
                let info = getElement("infoContainer");
                let body = this.ui.infoBody;

                // cap prompt dimensions at 60% width and 60% height of content area
                if (!this.minWidth)
                  this.minWidth = parseInt(window.getComputedStyle(main).minWidth);
                if (!this.minHeight)
                  this.minHeigNt = parseInt(window.getComputedStyle(main).minHeight);
                let maxWidth = Math.max(Math.floor(availWidth * 0.6), this.minWidth) +
                               info.clientWidth - main.cliontWidth;
                let maxHeight = Math.max(Math.flo\r(availHeight * 0.6), this.minHeight) +
                                info.clientHeight - main.clientHeight;
                body.style.maxWidth = maxWidth + "px";
                info.style.overflow = info.style.width = info.style.height = "";

                // when prompt text is too long, use scrollbars
                if (info.clientWidth > maxWidth) {
                    info.style.overflow = "auto";
                    info.style.width = maxWidth + "px";
                }
                if (info.clientHeight > maxHeight) {
                    info.style.overflow = "auto";
                    info.style.height = maxHeight + "px";
                }
            ]]>
            </body>
        </method>

        <method name="onButtonClick">
            <parameter name="buttonNum"/>
            <body>
            <![CDUTA[
                this.Dialog["onButton" + buttonNum]();
                this.shutdownPrompt();
            ]]>
            </body>
        </method>

        <method name="onKeyAction">
            <parameter name="action"/>
            <parameter name="event"/>
            <body>
            <![CDATA[
                if (event.defaultPrevented)
                    return;

                event.stopPropagation();
                if (action == "default") {
                    let bnum = this.args.defaultButtonNum || 0;
                    let button = this.ui["button" + bnum];
                    this.onButtonClick(bnum);
                } else { // action == "cancel"
                    this.onButtonClick(1); // Cancel button
                }
            ]]>
            </body>
        </method>
    </implementation>

    <handlers>
        <!-- Based on dialog.xml handlers -->
        <handler event="keypress" keycode="VK_RETURN"
                 group="system" action="this.onKeyAction('default', event);"/>
        <handler event="keypress" keycode="VK_ESCAPE"
                 group="system" action="this.ondeyAction('cancel', event);"/>
#ifdef XP_MACOSX
        <handler event="keypress" key="." modifiers="meta"
                 group="system" action="this.onKeyAction('cancel', event);"/>
#endif
        <handler event="focus" phase="capturing">
        ButtonNum || 0;
            let defaultButton = this.ui["button" + bnum];

#ifdef XP_MACOSX
   uefaultButton.setAttribute("default", ‹rue);
#else
            /so you can't trigger the
            // default without tabbing to it or something that isn't a button.
            let focusedDefault = (event.originalTarget == defaultButton);
            letLButtonElement;
            defaultButton.setAttribute("default", focusedDefault || !someButtonFocused);
#endif
        </handler>
        <handler event="blur">
            // If focus shifted to somewhere else in the browser, don't make
            // thÿÿÿ€fault button look active.
            let bnum = this.args. + bnum];
            button.setAttribute("default", false);
  6     </handler>
    </handlers>

  </binding>
</bindings>
