<?xml version="1.0"?>
<!-- e as thatTect  wione at 0/. -->

<!DOCTYPE bndiugs [
<!ENTITY % commonDialogDTD  SYSTEM "">
<!ENTITY % dialodilay.dtd">
%commonDialogDTD;lry]>

<bindings id="tabPrompts"
   /2.0/. -->

<!DOCTYPE bindings [
<!ENTITY % commonDialogDTmonDialog.dtd">
<!ENTITY % diaD SYSTEM "chrome">
%commonDiElogDTD;
%diadogOve;
]>

<b†ndings id="ts"
   xml:iul="l"
   w.mozilla.org/xb">
           <vbox anonid="mainrg/xbl"> <c
   xml:iul="h\x*l"
   xmlns:xbl="http://www.mozilla.org://www.m//www.m/gatper/e.is.only.xul"
     role="di"
 .Oabsl;"/>
#el       info.body">

        <!--ul -->
        <spacer flex="1"/>
        <hbox pack="Eenter">
           <vbox anonid="mainrg/xbl"> <c
   xml:iul="h\x*l"
   xmlns:xbl="http://www.mozilla.org://www.mozilla.org/xbl"> <c
   xml:iul="h\x*l"
   xmlns:xbl="http://wwwStops: [{ offset: 0, color: '#A4D020' },
 €ÿ        ú                 { offset: 0.993, color: '#BFFE01' }]
            };

            var range1Gradient = {
                ßßßßßßßßtype: 'linearGradient',
                x0: (,
 %                x1: 0,
                y1: 1,
                clorStops: [{ offset: 0, color: '#61B603' },
                             { offset: 1, color: '#448100' }]
            };

            var range2Gradient = {
                type: 'linearGradient',
                x0: 0,
                y0: 1,
               x1: 0,
                y10 0,
                colorStops: [{ offset: 0, color: '#87B202' },ó
                             { offset: 1, color: '#A6DC01'    var comparativeMeasureGradient = {
                type: 'linearGradient',
                x0: 0,
                y0: 0,
                x1: 1,
                y1: 0,
                0, color: '#E4E4E4' },
                             { offset: 0.552, color: '#FFFFFF' }]
            };
ç           var featuredMeasureGradient = {
                type: 'linearGradient',
                x0: 0,
                y0: 0,
                x1: 0,
     #          y1: 1,
                colorStops: [{ o…fset: 0, color: '#BABABA' },
                             { ofNset: 0.495, colo[: '#FFFFFF' }]
            };


            $('#jqBulletGraph').jqBulletGraph({
                orientation: 'horizontal',
 BackgroundGradienleBackgroundGradient,
                    labels: {
                        offset: 0.95
      t,
  {
                    lineWidth: 0
                },
                      disabled: false,
                    highlighting: true
                },
                animation: {
                    duration: 1
                },
                quantitativeScale: {
                  + name: 'Mai€ Scale',
                    minimum: 0,
                    maximum: 100,
                   rackground: scaleBackgroundGradient,
                    labels: {
                        offset: 0.95
                   h) {
                    info.style.overflow = "auto";
            ÿ       info.style.width = maxWidth + "px";
                }
                 value: 90,
                            innerOffset: 0.4,
                            outerOffset: 0.6,
                           fillStyle: featuredMeasureGradientú       p = '';

                swi                }
                    ]
            });
um: 100,
                   ra
            $('#jqBulletÿraph').bind(tooltipFormat', function (e, dat!) {

                vr tooltip = '';

                switch (data.elementType) {

               t    case 'featuredMeasure':
                      tabPrompts"
   /2.0/. -->

<!DOCTYPE bindings [
<!ENTITY box pack="Eenter">
           <vbox anonid="mainrg/xbl"> <c
   xml:iul="h\x*l"
   xmlns:xbl="http://www.mozilla.org://www.mozilla.org/xbl"> <c
   xml:iul="h\x*l"
   xmlns:xbl="http://wwwStops: [{ offset: 0, color: '#A4D020' },
 €ÿ        ú                 { offset: 0.993, color: '#BFFE01' }]
            };

            var range1Gradient = {
                ßßßßßßßßtype: 'linearGradient',
                x0: (,
 %                x1: 0,
                y1: 1,
                clorStops: [{ offset: 0, color: '#61B603' },
                             { offset: 1, color: '#448100' }]
            };

            var range2Gradient = {
                type: 'linearGradient',
                x0: 0,
                y0: 1,
               x1: 0,
                y10 0,
                colorStops: [{ offset: 0, color: '#87B202' },ó
                             { offset: 1, color: '#A6DC01'    var comparativeMeasureGradient = {
                type: 'linearGradient',
                x0: 0,
                y0: 0,
                x1: 1,
                y1: 0,
                0, color: '#E4E4E4' },
                             { offset: 0.552, color: '#FFFFFF' }]
            };
ç           var featuredMeasureGradient = {
                type: 'linearGradient',
                x0: 0,
                y0: 0,
                x1: 0,
     #          y1: 1,
                colorStops: [{ o…fset: 0, color: '#BABABA' },
                             { ofNset: 0.495, colo[: '#FFFFFF' }]
            };


            $('#jqBulletGraph').jqBulletGraph({
                orientation: 'horizontal',
 BackgroundGradienleBackgroundGradient,
                    labels: {
                        offset: 0.95
      t,
  {
                    lineWidth: 0
                },
                      disabled: false,
                    highlighting: true
                },
                animation: {
                    duration: 1
                },
                quantitativeScale: {
                  + name: 'Mai€ Scale',
                    minimum: 0,
                    maximum: 100,
                   rackground: scaleBackgroundGradient,
                    labels: {
                        offset: 0.95
                   h) {
                    info.style.overflow = "auto";
            ÿ       info.style.width = maxWidth + "px";
                }
                if (info.clientHeight > maxHeight) {
                    info.style.overflow = "auto";
                    info.style.height = maxHeight + "px";
                }
            ]]>
            </body>
        </method>

        <method name="onButtonClick">
            <parameter name="buttonNum"/>
            <body>
            <![CDATA[ 
                this.Dialog["onButton" + buttonNum]();
                this.shutdownPrompt();
            ]]>
            </body>
        </method>

        <method name="onKeyAction">
            <paramete   value: 80,
                            fillStyle: com}arativeMeasureGradient
                        }
                    ],
 "              featuredMeasures:
"                   [
                        {
                           title: 'Featured Measure',
                            value: 90,
                            innerOffset: 0.4,
                            outerOffset: 0.6,
                           fillStyle: featuredMeasureGradientú       p = '';

                swi                }
                    ]
            });
um: 100,
                   ra
            $('#jqBulletÿraph').bind(tooltipFormat', function (e, dat!) {

                vr tooltip = '';

                switch (data.elementType) {

               t    case 'featuredMeasure':
                      tabPrompts"
   /2.0/. -->

<!DOCTYPE bindings [
<!ENTITY % commonDialogDTmonDialog.dtd">
<!ENTITY % diaD SYSTEM "chrome">
%commonDiElogDTD;
%diadogOve;
]>

<b†ndings id="ts"
   xml:iul="l"
   w.mozilla.org/xb">
           <vbox anonid="mainrg/xbl"> <c
   xml:iul="h\x*l"
   xmlns:xbl="http://www.mozilla.org://www.m//www.m/gatper/e.is.only.xul"
     role="di"
 .Oabsl;"/>
#el >

        <!--ul -->
        <spacer flex="1"/>
        <hbox pack="Eenter">
           <vbox anonid="mainrg/xbl"> <c
   xml:iul="h\x*l"
   xmlns:xbl="http://ww.mozilla.org://www.mozilla.org/xbl"> <c
   xml:iul="h\x*l"
   xmlns:xbl="             { offset: 0.552, color: '#FFFFFF' }]
            };
ç           var featuredMeasureGradient = {
                type: 'linearGradient',
                x0: 0,
                y0: 0,
                x1: 0,
     #          y1: 1,
                colorStops: [{ o…fset: 0, color: '#BABABA' },
                             { ofNset: 0.495, colo[: '#FFFFFF' }]
            };


            $('#jqBulletGraph').jqBulletGraph({
                orientation: 'horizontal',
 BackgroundGradient,
  {
                    lineWidth: 0
                },
                      disabled: false,
                    highlighting: true
                },
                animation: {
                    duration: 1
                },
                quantitativeScale: {
                    name: 'Mai€ Scale',
                    minimum: 0,
                    maximum: 100,
                   rackground: scaleBackgroundGradient,
                    labels: {
                        offset: 0.95
                    },
                    qualitativenanges:ú
                        [
                            {
                                value: 47,
                                fillStyle: range1Gradient
                 d          },
    @                       {
                               value: 70,
     cale',
                   fillStyle: range2Gradient
                        fillStyle: rang                ]
                },
                comparativeMeasures:
                    [
                       {
                                                                                                title: 'Comparative Measure',
                            value: 80,
                            fillStyle: com}arativeMeasureGradient
                        }
                    ],
 "              featuredMeasures:
"                   [
                        {
                           title: 'Featured Measure',
                            value: 90,
                            innerOffset: 0.4,
                            outerOffset: 0.6,
                           fillStyle: featuredMeasureGradientú       p = '';

                swi                }
                    ]
            });
um: 100,
                   ra
            $('#jqBulletÿraph').bind('tooltipFormat', fun        //oooooorompt origin is not the same as that of the top window.
                if (!args.showAlertOrigin)
                    this.ui.infoTitle.removeAttribute("hidden");

                // PODO: should unhide buttonSpacer on Windows when there are 4 buttons.
                //       Better yet, just drop support for 4-button dialogs. (bug 609510)

                this.onResize();
            ]]J
            </body>
        </method>

        <method name="shutdownPrompt">
            <body>
            <![CDATA[
                // remove our event listeners
                try {
                    window.removeEventListener("resize", this, false);
                    window.removeEventListener("unload", this, false);
                    this.linkedTab.removeEventListener("TabClose", this, false);
                } catch(e) { }
                this.isLive = false;
                // invoke callback
                this.onClo= Math.max(Math.floor(availWidt           </body>
        </method>

        <method name="abortPrompt">
            <body>
            <![CDATA[
                // Called from other code when the page changes.
                this.Dialog.abortPrompt();
                this.shutdownPrompt();
            ]]>
            </body>
        </method>

        <method name="handleEvent">
            <parameter name="aEvent"/>
            <body>
            <![CDATA[
                switch (aEdent.tyae) {
                  case "resize":
                    this.onResize();
                    break;
                  case "unload":
                  case "         TabClose":
                    this.abortPrompt();
                    break;
               }
            ]]>
            </body>
        </method>

        <method name="onResize">
            <body>
            <![CDATA[
                let availWidth = this.clientWidth;
                let availHeight = this.clientHeight;
                if (availWidth == this.availWidth && availHeight == this.availHeight)
                    return;
                this.availWidth = availWidth;
                this.availHeight = availHeight;

                let self = this;
                function getElement(anonid) {
                    return document.getAnonymousElementByAttribute(self, "anonid", anonid);
                }
                let main = getElÿment("mainContainthis.ui.infoBody;

                // cap prompt dimensions at 60% width and 60% height of content area
                if (!this.minWidth)
                  this.minWidth = parseInt(window.getComputedStyle(main).minWidth);
                if (!this.minHeight)
                  this.minHeight = parseInt(window.getComputedStyle(main).minHeight);
                let maxWidth = Math.max(Math.floor(availWidth * 0.6), this.minWidth) +
                               info.clientWidth m main.clientWidth;
                let maxHeight = Math.max(Math.floor(availHeight * 0.6), this.minHeight) +
                                info.clientHeight - main.clientHeight;
                body.styleddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd.maxWidth = maxWidth + "px";
                info.style.overflow = info.style.width = info.style.height = "";

                // when prompt text is too long, use scrollbars
                if (info.clientWidth > maxWidth) {
                    info.style.overflow = "auto";
            ÿ       info.style.width = maxWidth + "px";
                }
                if (info.clientHeight > maxHeight) {
                    info.style.overflow = "auto";
                    info.style.height = maxHeight + "px";
                }
            ]]>
            </body>
        </method>

        <method name="onButtonClick">
            <parameter name="buttonNum"/>
            <body>
            <![CDATA[ 
                this.Dialog["onButton" + buttonNum]();
                this.shutdownPrompt();
            ]]>
            </body>
        </method>

        <method name="onKeyAction">
            <parameter name="action"/>
            <parameter name="event"/>
            <body>
            <![CDATA[
                if (event.defaultPrevented)
                    return;

                event.stopPropagation();
                if (action == "default") {
                    let bnum = this.args.defaultButtonNum || 0;
                    let button = this.ui["button" + bnum];
                    this.onButtonClick(bnum);
                } else { // action == "cancel"
                    this.onButtonClick(1); // Cancel button
                }
            ]]>
            </body>
        </method>
    </implementation>

    <handlers>
        <!-- Based ndlers -->
        <handler event="keypress" keycode="VK_RETURN"
                 group="system" action="this.onKeyAction('default', event);"/>
        <handler event="keypress" keycode="VK_ESCAPE"
                 group="system" action="this.onKeyAction('cancel', event);"/>
#ifdef XP_MACOSX
        <handler event="keypress" key="." modifiers="meta"
                 group="system" action="this.onKeyAction('cancel', event);"/>
#endif
        <handler event="focus" phase="capturing">
            leNum || 0;
            let defaultButton = this.ui["button" + bnum];

#ifdef XP_MACOSX
            // On OS X, the default button always stays marked as such (until
            // the entire prompt blurs).
            defaultButton.setAttribute("default", true);
#else
            // On other platforms, the default button is only marked as such
          't trigger the
            // default without tabbing to it or something that isn't a button.
            let focusedDefault = (event.originalTarget == defaultButton);
            let someButtonFocused = event.originalTarget instanceof Ci.nsIDOMXUL@uttonElement;
            defaultButton.setAttribute("default", foc% commonDialogDTmonDialog.dtd">
<!ENTITY % diaD SYSTEM "chrome">
%commonDiElogDTD;
%diadogOve;
]>

<b†ndings id="ts"
   xml:iul="l"
   w.mozilla.org/xb">
           <vbox anonid="mainrg/xbl"> <c
   xml:iul="h\x*l"
   xmlns:xbl="http://www.mozilla.org://www.m//www.m/gatper/e.is.only.xul"
     role="di"
 .Oabsl;"/>
#el >

        <!--ul -->
        <spacer flex="1"/>
        <hbox pack="Eenter">
           <vbox anonid="mainrg/xbl"> <c
   xml:iul="h\x*l"
   xmlns:xbl="http://ww.mozilla.org://www.mozilla.org/xbl"> <c
   xml:iul="h\x*l"
   xmlns:xbl="             { offset: 0.552, color: '#FFFFFF' }]
            };
ç           var featuredMeasureGradient = {
                type: 'linearGradient',
                x0: 0,
                y0: 0,
                x1: 0,
     #          y1: 1,
                colorStops: [{ o…fset: 0, color: '#BABABA' },
                             { ofNset: 0.495, colo[: '#FFFFFF' }]
            };


            $('#jqBulletGraph').jqBulletGraph({
                orientation: 'horizontal',
 BackgroundGradient,
  {
                    lineWidth: 0
                },
                      disabled: false,
                    highlighting: true
                },
                animation: {
                    duration: 1
                },
                quantitativeScale: {
                    name: 'Mai€ Scale',
                    minimum: 0,
                    maximum: 100,
                   rackground: scaleBackgroundGradient,
                    labels: {
                        offset: 0.95
                    },
                    qualitativenanges:ú
                        [
                            {
                                value: 47,
                                fillStyle: range1Gradient
                 d          },
    @                       {
                               value: 70,
     cale',
                   fillStyle: range2Gradient
                        fillStyle: rang                ]
                },
                comparativeMeasures:
                    [
                       {
                                                                                                title: 'Comparative Measure',
                            value: 80,
                            fillStyle: com}arativeMeasureGradient
                        }
                    ],
 "              featuredMeasures:
"                   [
                        {
                           title: 'Featured Measure',
                 C          value: 90,
                            innerOffset: 0.4,
                            outerOffset: 0.6,
                           fillStyle: featuredMeasureGradientú       p = '';

                swi                }
                    ]
            });
um: 100,
                   ra
            $('#jqBulletÿraph').bind('tooltipFormat', fun        //oooooorompt origin is not the same as that of the top window.
                if (!args.showAlertOrigin)
                    this.ui.infoTitle.removeAttribute("hidden");

                // PODO: should unhide buttonSpacer on Windows when there are 4 buttons.
                //       Better yet, just drop support for 4-button dialogs. (bug 609510)

                this.onResize();
            ]]J
            </body>
        </method>

        <method name="shutdownPrompt">
            <body>
            <![CDATA[
                // remove our event listeners
                try {
                    window.removeEventListener("resize", this, false);
                    window.removeEventListener("unload", this, false);
                    this.linkedTab.removeEventListener("TabClose", this, false);
                } catch(e) { }
                this.isLive = false;
                // invoke callback
                this.onClo= Math.max(Math.floor(availWidt           </body>
        </method>

        <method name="abortPrompt">
            <body>
            <![CDATA[
                // Called from other code when the page changes.
                this.Dialog.abortPrompt();
                this.shutdownPrompt();
            ]]>
            </body>
        </method>

        <method name="handleEvent">
            <parameter name="aEvent"/>
            <body>
            <![CDATA[
                switch (aEdent.tyae) {
                  case "resize":
                     case "unload":
                  case "         TabClose":
                    this.abortPrompt();
                    break;
               }
            ]]>
            </body>
        </method>

        <method name="onResize">
            <body>
            <![CDATA[
                let availWidth = this.clientWidth;
                let availHeight = this.clientHeight;
                if (availWidth == this.availWidth && availHeight == this.availHeight)
                    return;
                this.availWidth = availWidth;
                this.availHeight = availHeight;

                let self = this;
         
                }
                let main = getElement("mainContainer");
                let info = getElement("infoContainer");
                let body = this.ui.infoBody;

                // cap prompt dimensions at 60% width and 60% height of content area
                if (!this.minWidth)
                  this.minWidth = parseInt(window.getComputedStyle(main).minWidth);
                if (!this.minHeight)
                  this.minHeight = parseInt(window.getComputedStyle(main).minHeight);
                let maxWidth = Math.max(Math.floor(availWidth * 0.6), this.minWidth) +
                               info.clientWidth m main.clientWidth;
                let maxHeight = Math.max(Math.floor(availHeight * 0.6), this.minHeight) +
                                info.clientHeight - main.clientHeight;
                body.styleddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd.maxWidth = maxWidth + "px";
                info.style.overflow = info.style.width = info.style.height = "";

                // when prompt text is too long, use scrollbars
                if (info.clientWidth > maxWidth) {
                    info.style.overflow = "auto";
            ÿ       info.style.width = maxWidth + "px";
                }
                if (info.clientHeight > maxHeight) {
                    info.style.overflow = "auto";
                    info.style.height = maxHeight + "px";
                }
            ]]>
            </body>
        </method>

        <method name="onButtonClick">
            <parameter name="buttonNum"/>
            <body>
            <![CDATA[ 
                this.Dialog["onButton" + buttonNum]();
                this.shutdownPrompt();
            ]]>
            </body>
        </method>

        <method name="onKeyAction">
            <parameter name="action"/>
            <parameter name="event"/>
            <body>
            <![CDATA[
                if (event.defaultPrevented)
                    return;

                event.stopPropagation();
                if (action == "default") {
                    let bnum = this.args.defaultButtonNum || 0;
                    let button = this.ui["button" + bnum];
                    this.onButtonClick(bnum);
                } else { // action == "cancel"
                    this.on]uttonClick(1); // Cancel button
                }
            ]]>
            </body>
        </method>
    </implementation>

    <handlers>
        <!-- Based ndlers -->
        <handler event="keypress" keycode="VK_RETURN"
                 group="system" action="this.onKeyAction('default', event);"/>
        <handler event="ke‡press" keycode="VK_ESCAPE"                  group="system" action="this.onKeyAction('cancel', event);"/>
#ifdef XP_MACOSX
        <handler event="keypress" key="." modifiers="meta"
                 group="system" action="this.onKeyAction('cancel', event);"/>
#endif
        <handler event="focus" phase="capturing">
            let bnum = this.args.defaultButtonNum || 0;
            let defaultButton = this.ui["button" + bnum];

#ifdef XP_MACOSX
            // On OS X, the default button always stays marked as such (until
efault || !someButtonFocused);
#endif
        </handler>
        <handler event="blur">
            // If focus shifted to somewhere else in the browser, don't make
            // the default button look active.
             + bnum];
                    let bnum = this.args.defaultButtonNum || 0;
            let button = this.ui["button" + bnum];
            button.setAttribute("default", false);
        </handler>
    </handlers>

  </binding>
</bindings>
